<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>实验报告提交</title>
    <link rel="stylesheet" href="AI.css">
</head>
<body>
<div class="container">

    <h2 class="title">实验报告提交</h2>

    <div class="upload-area">
        <input type="file" id="fileUpload" accept=".jpg,.jpeg,.png,.bmp,.pdf">
        <div class="upload-box" id="uploadBox">
            <span>将文件拖拽到此处，或点击上传</span>
        </div>
        <p class="tip">只能上传 word、jpg、jpeg、png、bmp、pdf，文件不能超过200M,支持批量上传</p>
    </div>

    <form id="reportForm">
        <label>是否批改 <span style="color: red;">*</span></label>
        <select name="isCorrect" required>
            <option value="">请选择</option>
            <option value="是">是</option>
            <option value="否">否</option>
        </select>

        <label>学科 <span style="color: red;">*</span></label>
        <textarea name="subject" placeholder="请输入学科" required></textarea>

        <label>学段 <span style="color: red;">*</span></label>
        <select name="grade" required>
            <option value="">请选择学段</option>
            <option>大一</option>
            <option>大二</option>
            <option>大三</option>
            <option>大四</option>
        </select>

        <label>试卷分类 <span style="color: red;">*</span></label>
        <select name="paperType" required>
            <option value="">请选择试卷分类</option>
            <option>测试试卷</option>
            <option>课程作业</option>
            <option>实验报告</option>
        </select>

        <label>小题分数（如未批改可不选填）</label>
        <textarea name="scores" placeholder="请输入小题分数，例如：选择题20分，填空题20分，解答题60分"></textarea>

        <label>学生成绩（如未批改可不选填）</label>
        <textarea name="studentScore" placeholder="请输入成绩"></textarea>

        <!-- 隐藏字段：用于保存文件解析后的全文文本并随表单一并提交 -->
        <input type="hidden" id="extractedText" name="extractedText" value="">

        <div class="btns">
            <button type="button" class="think-btn">深度思考</button>
            <button type="button" class="search-btn">联网搜索</button>
        </div>

        <button type="submit" class="submit-btn">📄 一键生成</button>

        <!-- 生成结果展示区域（非阻塞） -->
        <div id="resultWrapper" style="margin-top:16px;">
            <label style="font-weight:600;display:block;margin-bottom:6px;color:#333;">生成结果</label>
            <pre id="resultBox" class="result-box" style="background:#fff;border:1px solid #e6e6e6;padding:12px;border-radius:6px;white-space:pre-wrap;max-height:240px;overflow:auto;">等待生成结果...</pre>
        </div>
    </form>
</div>

<script src="AI.js?v=20251128_1"></script>
</body>
</html>
